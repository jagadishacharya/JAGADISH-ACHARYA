CREATE SEQUENCE USER_ID
START WITH 1000
CACHE 100;
CREATE OR REPLACE TYPE ADD_OBJ AS OBJECT
(DOOR_NO VARCHAR2(5),
BUILDING_NAME VARCHAR2(10),
STREET VARCHAR2(10),
LOCALITY VARCHAR2(10),
CITY VARCHAR2(10),
PROVINCE VARCHAR2(10),
POSTAL_CODE NUMBER(6,0)
);
/
CREATE OR REPLACE TYPE NAME_OBJ AS OBJECT
(FIRST_NAME VARCHAR2(10),
MIDDLE_NAME VARCHAR2(10),
LAST_NAME VARCHAR2(10),
SUFFIX VARCHAR2(10)
);
/
CREATE TABLE USER_MST(USER_ID VARCHAR2(50) DEFAULT USER_ID.NEXTVAL,
                        USER_NAME NAME_OBJ CONSTRAINT NN_USER_NAME NOT NULL,
                        PRESENT_ADD ADD_OBJ CONSTRAINT NN_PRESENT_ADD NOT NULL,
                        PERMANENT_ADD ADD_OBJ CONSTRAINT NN_PREM_ADD NOT NULL,
                        DOB DATE CONSTRAINT NN_DOB NOT NULL,
                        GENDER CHAR(1) DEFAULT 'M' CONSTRAINT NN_GENDER NOT NULL,
                        MOBILE_NO NUMBER,
                        MARITAL_STATUS CHAR(1) DEFAULT 'M' CONSTRAINT NN_MARITAL_STAT NOT NULL,
                        USER_PASSWORD VARCHAR2(400) CONSTRAINT NN_USER_PWD NOT NULL,
                        USER_TYPE VARCHAR2(500),
                        EMAIL_IDS VARCHAR2(100) CONSTRAINT NN_EMAIL_ID NOT NULL,
                        INACTIVE_INTERVAL INTERVAL DAY TO SECOND,
                        DTCREATED DATE DEFAULT SYSDATE,
                        LAST_RESET_PASSWORD DATE,
                        STATUS VARCHAR2(10) DEFAULT 'ACTIVE',
                        DTLASTLOGIN DATE,
                        DTLASTLOGOUT DATE
                        );
PROMPT Adding comments on LOAN_PRODUCT table ...
                 ALTER TABLE USER_MST ADD CONSTRAINT PK_USER_ID PRIMARY KEY(USER_ID);
CREATE TABLE USER_DTL(USER_ID VARCHAR2(50),
                                        USER_NAME NAME_OBJ CONSTRAINT CAND_NAME NOT NULL,
                                        LAST_CHANGE_PWD VARCHAR2(20) CONSTRAINT NN_LAST_PWD NOT NULL,
                                        LAST_PWD_CHANGE_DT DATE DEFAULT SYSDATE
                                        );
ALTER TABLE USER_DTL ADD CONSTRAINT FK_USER_ID FOREIGN KEY(USER_ID) REFERENCES USER_MST(USER_ID);
/
